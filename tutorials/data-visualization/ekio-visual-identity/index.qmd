---
title: "EKIO Visual Identity in R"
subtitle: "Professional Data Visualization with Brand Consistency"
author: "EKIO Academy"
date: "2024-03-15"
lang: en
categories: [visualization, branding, ggplot2]
format:
  html:
    code-fold: false
    code-tools: true
execute:
  echo: true
  warning: false
  message: false
---

## Overview

Learn how to implement EKIO's complete visual identity system in your R visualizations. This tutorial covers the Modern Premium theme, color scales, typography, and professional styling techniques.

::: {.callout-tip}
## Prerequisites
- Basic ggplot2 knowledge
- R and RStudio installed
- Understanding of data visualization principles
:::

## Learning Objectives

By the end of this tutorial, you will be able to:

1. Install and configure EKIO's visual identity system
2. Apply EKIO themes to your ggplot2 charts
3. Use EKIO color scales for different data types
4. Create professional, branded visualizations
5. Export charts with consistent styling

## Setup

First, let's load the required packages and EKIO theme system:

```{r setup}
# Load required packages
library(tidyverse)
library(scales)

# Load EKIO theme system
source("../../../assets/r/ekio-themes.R")

# Set global theme for this session
theme_set(theme_ekio())
```

## EKIO Color System

The EKIO Academy theme uses a sophisticated blue-based color palette designed for educational content:

```{r color-system}
# Display EKIO Academy color palette
academy_colors <- tibble(
  color_name = c("Primary", "Secondary", "Tertiary", "Light 1", "Light 2", "Dark 1", "Dark 2"),
  hex_code = c("#1abc9c", "#16a085", "#138d75", "#e8f8f5", "#a3e4d7", "#0e6b5c", "#0a4f44"),
  usage = c("Main elements", "Hover states", "Text highlights", "Backgrounds", "Subtle fills", "Dark text", "Accents")
)

# Create color palette visualization
academy_colors |>
  mutate(x = 1:n()) |>
  ggplot(aes(x = x, y = 1, fill = hex_code)) +
  geom_tile(width = 0.9, height = 0.8) +
  geom_text(aes(label = color_name), color = "white", fontface = "bold", size = 3) +
  scale_fill_identity() +
  theme_void() +
  labs(title = "EKIO Academy Color Palette",
       subtitle = "Educational theme designed for professional learning content")
```

## Basic Chart with EKIO Theme

Let's create a chart using sample Brazilian economic data:

```{r basic-chart}
# Create sample Brazilian GDP data
gdp_data <- tibble(
  year = 2015:2024,
  gdp_growth = c(-3.5, -3.3, 1.3, 1.8, 1.2, -3.9, 4.2, 2.9, 3.1, 2.8),
  region = "Brazil"
)

# Create chart with EKIO Academy theme
gdp_chart <- gdp_data |>
  ggplot(aes(x = year, y = gdp_growth)) +
  geom_line(linewidth = 1.2, color = ekio_academy_colors$primary) +
  geom_point(size = 3, color = ekio_academy_colors$primary) +
  geom_hline(yintercept = 0, linetype = "dashed", alpha = 0.6) +
  scale_y_continuous(labels = percent_format(scale = 1, suffix = "%")) +
  scale_x_continuous(breaks = seq(2015, 2024, 2)) +
  labs(
    title = "Brazilian GDP Growth Rate",
    subtitle = "Annual percentage change in real GDP, 2015-2024",
    x = "Year",
    y = "GDP Growth Rate (%)",
    caption = "Source: IBGE (2024) | EKIO Analytics"
  ) +
  theme_ekio("academy_primary")

gdp_chart
```

## Professional Multi-Series Chart

For categorical data, use EKIO's categorical color palette:

```{r multiple-series}
# Sample sectoral employment data
sector_data <- expand_grid(
  year = 2020:2024,
  sector = c("Agriculture", "Industry", "Services")
) |>
  mutate(
    employment_growth = case_when(
      sector == "Agriculture" ~ c(2.1, -1.2, 3.4, 1.8, 2.3),
      sector == "Industry" ~ c(-8.7, 4.5, 2.1, 3.2, 1.9),
      sector == "Services" ~ c(-7.8, 8.2, 4.1, 2.8, 3.1)
    )
  )

# Create professional multi-series chart
sector_chart <- sector_data |>
  ggplot(aes(x = year, y = employment_growth, color = sector)) +
  geom_line(linewidth = 1.2) +
  geom_point(size = 3) +
  scale_color_ekio_cat("academy_primary") +
  scale_y_continuous(labels = percent_format(scale = 1, suffix = "%")) +
  scale_x_continuous(breaks = 2020:2024) +
  labs(
    title = "Employment Growth by Economic Sector",
    subtitle = "Annual percentage change in employment, Brazil 2020-2024",
    x = "Year",
    y = "Employment Growth (%)",
    color = "Economic Sector",
    caption = "Source: IBGE, PNAD Cont√≠nua | EKIO Analytics"
  ) +
  theme_ekio("academy_primary") +
  theme(legend.position = "bottom")

sector_chart
```

## Choropleth Map Example

Create a professional choropleth map using Brazilian state data:

```{r choropleth-example, eval=FALSE}
# Note: This code requires the geobr package
# Install with: install.packages("geobr")

library(geobr)

# Load Brazilian states (this would work with geobr installed)
# states <- read_state(year = 2020, showProgress = FALSE)

# For demonstration, we'll create a simplified example
states_demo <- tibble(
  state = c("SP", "RJ", "MG", "RS", "PR", "SC", "BA", "GO", "PE", "CE"),
  gdp_index = c(142, 118, 105, 98, 94, 87, 82, 76, 71, 68)
)

# Create a simple bar chart as proxy for map
states_chart <- states_demo |>
  mutate(state = fct_reorder(state, gdp_index)) |>
  ggplot(aes(x = gdp_index, y = state, fill = gdp_index)) +
  geom_col() +
  scale_fill_ekio_seq("academy_primary", name = "GDP Index") +
  labs(
    title = "Brazilian States Economic Performance Index",
    subtitle = "Relative economic development indicators by state",
    x = "GDP Index",
    y = "State",
    caption = "Source: IBGE Regional Accounts | EKIO Analytics"
  ) +
  theme_ekio("academy_primary")

states_chart
```

```{r states-chart-display, echo=FALSE}
# Create the states chart for display
states_demo <- tibble(
  state = c("SP", "RJ", "MG", "RS", "PR", "SC", "BA", "GO", "PE", "CE"),
  gdp_index = c(142, 118, 105, 98, 94, 87, 82, 76, 71, 68)
)

states_chart <- states_demo |>
  mutate(state = fct_reorder(state, gdp_index)) |>
  ggplot(aes(x = gdp_index, y = state, fill = gdp_index)) +
  geom_col() +
  scale_fill_ekio_seq("academy_primary", name = "GDP Index") +
  labs(
    title = "Brazilian States Economic Performance Index",
    subtitle = "Relative economic development indicators by state",
    x = "GDP Index",
    y = "State", 
    caption = "Source: IBGE Regional Accounts | EKIO Analytics"
  ) +
  theme_ekio("academy_primary")

states_chart
```

## Theme Variations for Different Contexts

EKIO themes can be adapted for different professional contexts:

```{r theme-variations}
# Professional/Business context
business_chart <- gdp_data |>
  ggplot(aes(x = year, y = gdp_growth)) +
  geom_line(linewidth = 1.2, color = ekio_modern_premium_colors$primary) +
  geom_point(size = 3, color = ekio_modern_premium_colors$primary) +
  geom_hline(yintercept = 0, linetype = "dashed", alpha = 0.6) +
  scale_y_continuous(labels = percent_format(scale = 1, suffix = "%")) +
  labs(
    title = "Brazilian GDP Growth Rate",
    subtitle = "Professional presentation theme",
    x = "Year",
    y = "GDP Growth Rate (%)",
    caption = "Source: IBGE (2024) | EKIO Analytics"
  ) +
  theme_ekio("modern_premium")

business_chart
```

## Professional Export Settings

To maintain quality across different formats:

```{r export-settings, eval=FALSE}
# Export settings for presentations
ggsave("gdp_chart_presentation.png", gdp_chart,
       width = 12, height = 8, dpi = 300, bg = "white")

# Export settings for reports  
ggsave("sector_chart_report.pdf", sector_chart,
       width = 10, height = 6, device = "pdf")

# Export for web use
ggsave("states_chart_web.png", states_chart,
       width = 10, height = 6, dpi = 150, bg = "white")
```

## Best Practices

::: {.callout-important}
## EKIO Visual Identity Standards

1. **Always use EKIO color palettes** for consistency with brand guidelines
2. **Include proper source attribution** in captions following Brazilian academic standards
3. **Use consistent typography** with theme-specified font families
4. **Maintain adequate white space** around chart elements
5. **Export at high resolution** for professional presentations (300 DPI minimum)
:::

## Next Steps

Now that you've mastered EKIO's visual identity system:

- Apply these techniques to your own economic data projects
- Explore advanced customization options with additional themes
- Check out our [Brazilian Municipal Data Analysis](../../r-fundamentals/brazilian-data/index.qmd) tutorial
- Learn about creating [Interactive Dashboards](../interactive-dashboards/index.qmd)

{{< include ../../../_includes/ekio-cta.qmd >}}