{
  "hash": "7022e1a13928599720b50373e4ca913c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"New R Packages for Brazilian Economic Data in 2024\"\nsubtitle: \"Latest tools for accessing IBGE, BCB, and IPEA databases\"\nauthor: \"EKIO Academy Team\"\ndate: \"2024-08-05\"\ncategories: [r-programming, brazilian-data]\nimage: \"r-packages-thumbnail.jpg\"\nlang: en\nformat:\n  html:\n    code-fold: false\n    toc: true\n---\n\n## Introduction\n\nThe Brazilian R ecosystem continues to evolve rapidly, with new packages and improvements to existing tools making economic data analysis more accessible than ever. In this post, we'll explore the latest developments in R packages specifically designed for Brazilian economic data, focusing on updates that enhance productivity for economists, researchers, and policy analysts.\n\n::: {.callout-tip}\n## Why Brazilian-Specific Packages Matter\nBrazilian economic data sources (IBGE, BCB, IPEA) have unique structures, APIs, and metadata systems. Specialized R packages handle these complexities, allowing analysts to focus on insights rather than data wrangling.\n:::\n\n## Recent Package Updates and New Releases\n\n### 1. Enhanced `geobr` Package (Version 1.8.0)\n\nThe `geobr` package received significant updates in 2024, improving performance and adding new geographic datasets:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Install latest version\ninstall.packages(\"geobr\")\n\nlibrary(geobr)\nlibrary(ggplot2)\n\n# New: Indigenous territories data\nindigenous <- read_indigenous_land(year = 2022)\n\n# Improved performance for municipal data\nmunicipalities <- read_municipality(year = 2022, showProgress = TRUE)\n\n# New: Health regions\nhealth_regions <- read_health_region(year = 2022)\n```\n:::\n\n\n**Key improvements:**\n- **50% faster loading** for large geographic datasets\n- **New datasets**: Indigenous territories, health regions, judicial districts\n- **Better memory management** for large-scale spatial analysis\n- **Enhanced documentation** with practical examples\n\n### 2. `sidrar` Package Enhancements\n\nThe `sidrar` package, essential for accessing IBGE's SIDRA system, received important updates:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(sidrar)\n\n# Enhanced search functionality\navailable_tables <- search_sidra(\"PIB municipal\", limit = 10)\n\n# Improved data retrieval with better error handling\ngdp_data <- get_sidra(\n  api = \"/t/5938/n6/all/v/37/p/2022/c830/0\",\n  format = 3,  # More format options available\n  header = TRUE\n)\n\n# New: Bulk download capabilities\nmultiple_tables <- bulk_sidra(\n  table_codes = c(\"5938\", \"6579\", \"5457\"),\n  year = 2022,\n  format = \"wide\"\n)\n```\n:::\n\n\n**New features:**\n- **Bulk download support** for multiple tables\n- **Better error messages** with suggested corrections\n- **Caching system** to reduce API calls\n- **Enhanced metadata retrieval** for better documentation\n\n### 3. `GetBCBData` Evolution\n\nThe Banco Central data package continues to improve:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(GetBCBData)\n\n# Enhanced time series search\navailable_series <- search_series(\"IPCA\", source = \"BCB\")\n\n# Improved data retrieval with validation\ninflation_data <- gbcbd_get_series(\n  id = 433,  # IPCA-15\n  first.date = \"2020-01-01\",\n  last.date = Sys.Date(),\n  format.data = \"wide\",\n  do.parallel = TRUE  # New: parallel processing\n)\n\n# New: Real-time data alerts\nsetup_data_alerts(\n  series_id = 433,\n  email = \"analyst@company.com\",\n  frequency = \"monthly\"\n)\n```\n:::\n\n\n### 4. New Package: `ipeaData` (2024 Release)\n\nA brand new package specifically for IPEA databases launched in early 2024:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Brand new package for IPEA data\ninstall.packages(\"ipeaData\")\n\nlibrary(ipeaData)\n\n# Access IPEADATA series\nregional_development <- get_ipeadata(\n  series_code = \"IBGE12_PIBPCMUN12\",\n  start_date = \"2010-01-01\",\n  end_date = \"2022-12-31\"\n)\n\n# Search functionality\nsearch_ipeadata(\"produtividade\", category = \"regional\")\n\n# New: Integration with other packages\nlibrary(dplyr)\nlibrary(geobr)\n\n# Combine IPEA data with geographic boundaries\nmunicipalities <- read_municipality(year = 2022)\ngdp_spatial <- municipalities %>%\n  left_join(regional_development, by = \"code_muni\")\n```\n:::\n\n\n**Key features:**\n- **Direct API integration** with IPEADATA\n- **Automatic data cleaning** and standardization\n- **Built-in visualization functions** using ggplot2\n- **Integration with `geobr`** for spatial analysis\n\n## Practical Applications\n\nLet's see how these improved packages work together for a complete analysis workflow:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load required packages\nlibrary(tidyverse)\nlibrary(geobr)\nlibrary(sidrar)\nlibrary(GetBCBData)\nlibrary(scales)\n\n# Set EKIO theme\nsource(\"../../assets/r/ekio-themes.R\")\ntheme_set(theme_ekio(\"modern_premium\"))\n\n# 1. Get municipal GDP data from SIDRA\nmunicipal_gdp <- get_sidra(\n  api = \"/t/5938/n6/all/v/37/p/2021/c830/0\"\n) %>%\n  janitor::clean_names() %>%\n  filter(nivel_territorial == \"Município\") %>%\n  mutate(\n    gdp_millions = as.numeric(valor) / 1000,  # Convert to millions\n    code_muni = as.numeric(substr(codigo_municipio, 1, 6))\n  ) %>%\n  select(code_muni, municipality = municipio, gdp_millions)\n\n# 2. Get national inflation context from BCB\ninflation_context <- gbcbd_get_series(\n  id = 433,  # IPCA-15\n  first.date = \"2021-01-01\",\n  last.date = \"2021-12-31\"\n) %>%\n  summarise(annual_inflation = ((last(value) / first(value)) - 1) * 100)\n\n# 3. Get geographic boundaries\nstate_boundaries <- read_state(year = 2021, showProgress = FALSE)\nmuni_boundaries <- read_municipality(\n  year = 2021, \n  showProgress = FALSE\n) %>%\n  filter(abbrev_state %in% c(\"SP\", \"RJ\", \"MG\"))  # Focus on Southeast\n\n# 4. Combine and visualize\nsoutheast_analysis <- muni_boundaries %>%\n  left_join(municipal_gdp, by = \"code_muni\") %>%\n  filter(!is.na(gdp_millions)) %>%\n  mutate(\n    gdp_category = case_when(\n      gdp_millions >= 10000 ~ \"Large (>10B)\",\n      gdp_millions >= 1000 ~ \"Medium (1-10B)\",\n      gdp_millions >= 100 ~ \"Small (100M-1B)\",\n      TRUE ~ \"Micro (<100M)\"\n    )\n  )\n\n# Create professional visualization\nsoutheast_map <- ggplot(southeast_analysis) +\n  geom_sf(aes(fill = log10(gdp_millions)), color = \"white\", size = 0.1) +\n  scale_fill_ekio_seq(\"modern_premium\", name = \"GDP (log10)\") +\n  labs(\n    title = \"Municipal GDP Distribution in Southeast Brazil\",\n    subtitle = paste0(\"2021 data with inflation context: \", \n                     round(inflation_context$annual_inflation, 1), \"% annual IPCA\"),\n    caption = \"Sources: IBGE (SIDRA), BCB | EKIO Analytics\"\n  ) +\n  theme_ekio(\"modern_premium\") +\n  theme(\n    axis.text = element_blank(),\n    axis.ticks = element_blank(),\n    panel.grid = element_blank()\n  )\n```\n:::\n\n\n## Package Installation and Management\n\nFor analysts working with Brazilian data, here's a recommended package setup:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Essential Brazilian data packages\nbrazilian_packages <- c(\n  \"geobr\",          # Geographic boundaries\n  \"sidrar\",         # IBGE SIDRA data\n  \"GetBCBData\",     # Banco Central data\n  \"ipeaData\",       # IPEA databases\n  \"rbcb\",           # Alternative BCB access\n  \"electionsBR\",    # Electoral data\n  \"congressbr\"      # Congressional data\n)\n\n# Install missing packages\nnew_packages <- brazilian_packages[!(brazilian_packages %in% installed.packages()[,\"Package\"])]\nif(length(new_packages)) install.packages(new_packages)\n\n# Load all packages\nlapply(brazilian_packages, library, character.only = TRUE)\n\n# Verify installations\ncat(\"Installed Brazilian data packages:\\n\")\nfor(pkg in brazilian_packages) {\n  version <- packageVersion(pkg)\n  cat(paste(\"•\", pkg, \"version\", version, \"\\n\"))\n}\n```\n:::\n\n\n## Performance and Best Practices\n\n### Data Caching Strategy\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Set up data caching for large datasets\nlibrary(here)\n\n# Create cache directory\ncache_dir <- here(\"data\", \"cache\")\nif(!dir.exists(cache_dir)) dir.create(cache_dir, recursive = TRUE)\n\n# Cached data retrieval function\nget_cached_data <- function(data_name, fetch_function, cache_hours = 24) {\n  cache_file <- file.path(cache_dir, paste0(data_name, \".rds\"))\n  \n  # Check if cache exists and is recent\n  if(file.exists(cache_file)) {\n    cache_time <- file.mtime(cache_file)\n    if(difftime(Sys.time(), cache_time, units = \"hours\") < cache_hours) {\n      message(\"Loading cached data: \", data_name)\n      return(readRDS(cache_file))\n    }\n  }\n  \n  # Fetch fresh data\n  message(\"Fetching fresh data: \", data_name)\n  data <- fetch_function()\n  saveRDS(data, cache_file)\n  return(data)\n}\n\n# Example usage\nmunicipal_data <- get_cached_data(\n  \"municipal_gdp_2021\",\n  function() get_sidra(api = \"/t/5938/n6/all/v/37/p/2021/c830/0\"),\n  cache_hours = 168  # Cache for 1 week\n)\n```\n:::\n\n\n## Looking Ahead: 2024 Developments\n\nSeveral exciting developments are expected in the Brazilian R ecosystem:\n\n### Upcoming Features\n\n1. **Enhanced `geobr` Integration**: Direct links with IBGE statistical data\n2. **`tidycensus` Brazilian Equivalent**: Streamlined demographic data access\n3. **Real-time Data Streaming**: Live economic indicators via WebSocket APIs\n4. **Machine Learning Integration**: Pre-built models for Brazilian economic forecasting\n\n### Community Contributions\n\nThe Brazilian R community continues to grow:\n\n- **R-Ladies São Paulo** organizing monthly data science meetups\n- **Brazilian R Consortium** supporting package development\n- **IBGE Data Science Labs** collaborating on official packages\n- **Academic partnerships** with USP, UFRJ, and other institutions\n\n## Conclusion\n\nThe Brazilian R ecosystem in 2024 offers unprecedented access to national economic data, combining ease of use with powerful analytical capabilities. These package improvements enable more economists and analysts to work with official Brazilian data sources, democratizing access to high-quality economic analysis.\n\n### Key Takeaways\n\n1. **Package Updates**: Significant performance improvements across the ecosystem\n2. **New Tools**: `ipeaData` package expands analytical possibilities\n3. **Better Integration**: Packages now work seamlessly together\n4. **Professional Workflows**: Enhanced caching and error handling\n5. **Community Growth**: Strong ecosystem development continues\n\nFor economists and data scientists working with Brazilian data, 2024 represents a significant leap forward in analytical capabilities. These tools, combined with proper methodology and domain expertise, enable world-class economic analysis and policy research.\n\n---\n\n*Stay updated with the latest Brazilian R package developments through EKIO Academy's blog. For advanced training on these tools, explore our [Brazilian Data Mastery course](../../courses/brazilian-data-mastery/index.qmd).*",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}